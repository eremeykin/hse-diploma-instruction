\documentclass[12pt,tikz]{instruction}

\begin{document} 
\begin{titlepage}
	\centering	
	\texttt {\moddate{\jobname.tex} v3.0}

	{\scshape\small Национальный исследовательский университет \\
		``Высшая школа экономики'' \par}
	\vspace{2cm}
	{\scshape\Large ``Система интеллектуальной \\кластеризации данных'' \\
		(Intelligent Data Clustering Toolkit, \SysName)\par}
	\vspace{1.5cm}
	{\Huge\bfseries ИНСТРУКЦИЯ ПОЛЬЗОВАТЕЛЯ\par}
	\vspace{2cm}
	\vfill
	\begin{center}
		\begin{tabular}{  p{7cm}  p{4cm} p{5cm}  } 
			& & \textbf{Разработчик:}\\ 
			& & Еремейкин П.А. \\ 
			& & студент группы \\
			& & мНоД16\_ТМСС\\
			& & \\
			& & \textbf{Руководитель: }\\
			& & профессор\\
			& & Миркин Б.Г.\\
		\end{tabular}
	\end{center}
	\vfill
	{Москва \the\year\par}
\end{titlepage}

\section*{Аннотация}
Система интеллектуальной кластеризации данных \SysName представляет собой программный комплекс, предназначенный для проведения кластер-анализа с применением интеллектуальных подходов. Задача кластер-анализа состоит в разделении таблицы объектов в множества (кластеры) таким образом, чтобы сходные объекты попали в один и тот же кластер, а несходные --- в разные. Широко известен традиционный метод \kmeans. Однако, этот метод обладает существенным недостатком: для его применения необходимо знать число кластеров, на которые будут разбиты данные. Для практического применения этот недостаток зачастую вынуждает отказаться от использования \kmeans. В этом случае задачу позволяют решить интеллектуальные методы, которые в процессе работы или другими способами позволяют автоматически определить число кластеров. Программная система \SysName обладает всем необходимым функционалом и включает в свой инструментарий множество методов, необходимых для решения сложных задач кластер анализа.
\newpage
	
\tableofcontents 

\newpage
\section{Введение}
\subsection{Область применения} 

Программное обеспечение \SysName применяется для проведения кластер-анализа таблиц данных с использованием интеллектуальных алгоритмов. Типичный пример задачи для решения который может применяться кластер-анализ --- задача об ирисах Фишера. Эта задача состоит в поиске 50 экземпляров каждого из трёх видов ириса --- Ирис щетинистый (Iris setosa), Ирис виргинский (Iris virginica) и Ирис разноцветный (Iris versicolor) на данных из 150 объектов. Каждый объект обладает четырьмя признаками: 
\begin{enumerate}
	\item Длина чашелистика
	\item Ширина чашелистика
	\item Длина лепестка
	\item Ширина лепестка
\end{enumerate}
Кластер-анализ применяется во многих областях, включая компьютерное зрение, маркетинг, биоинформатику и медицину\cite{amorim}.


\subsection{Описание возможностей} 
Программа \SysName предоставляет пользователю возможности просмотра таблиц данных, нормализации данных, кластер-анализа и визуализации результатов. Кроме того, возможности программы включают в себя генерацию искусственных данных. 

\subsection{Уровень подготовки пользователя}
Для работы с программой от пользователя требуется знание основ работы с графическим интерфейсом современных операционных систем (ОС).

\subsection{Исходный код}
Программа обладает открытым исходным кодом. Исходный код программы можно получить из github репозитория по следующим ссылкам:
\begin{enumerate}
	\item \url{https://github.com/eremeykin/ect} --- репозиторий с исходным кодом библиотек кластеризации (для вызова из \Python программ)
	\item \url{https://github.com/eremeykin/ectgui2} --- репозиторий с графической оболочкой, которая использует библиотеку кластеризации.
\end{enumerate}
Для запуска  интерфейса программы из исходных кодов потребуется выкачать оба репозитория. Если необходимо только использовать реализованные алгоритмы кластеризации, вызывая их из другой \Python программы, потребуется только первый репозиторий.

\section{Назначение}

Система интеллектуальной кластеризации \SysName предназначена для выделения из таблиц наблюдения множеств (кластеров) таким образом, чтобы сходные объекты попадали в один и тот же кластер, а несходные — в разные кластеры \cite{data-science}. Основной целью \SysName является повышение эффективности анализа данных. Функционалом системы предусмотрено два типа работ:
\begin{itemize}
	\item кластеризация реальных данных
	\item проведение численного эксперимента с синтетическими данными
\end{itemize}

\section{Условия применения и подготовка к работе}

Программный продукт работает в операционной системе Microsoft Windows 7 \footnote{Программная система разработана на кросплатформенном языке программирования \Python и может быть запущена также на других операционных системах, при условии удовлетворения всех необходимых зависимостей. Установка библиотек для различных OC выходит за рамки инструкции. Версия для Windows специально подготовлена для использования без необходимости установки интерпретатора или программных библиотек.} со следующими характеристиками:
\begin{itemize}
	\item объем ОЗУ не менее 2 Гб
	\item объем жесткого диска не менее 40 Гб
	\item микропроцессор с тактовой частотой не менее 1.5 Гц
	\item монитор с разрешением от $1280 \times 1024$ точек и выше
\end{itemize}

Все программные компоненты уже включены в распространяемый каталог, установка интерпретатора \Python и специальных библиотек не требуется. Необходимые dll библиотеки и другие ресурсы также  находятся в каталоге бинарных файлов в полном составе.
	
Для подготовки системы к работе требуется скопировать каталог с бинарными файлы программы с носителя на котором распространяется программа на запоминающее устройство ПК пользователя.  Каталог бинарных файлов назван \BinCatalog. Для начала работы пользователь запускает на выполнение файл \ExeFile из каталога бинарных файлов. При необходимости, пользователь может создать ярлык на исполняемый файл и запускать программу из любого удобного места. 

В каталоге бинарных файлов пользователь может также найти каталог \DataCatalog, в котором собраны некоторые иллюстративные наборы данных. Загрузка этих файлов в программу протестирована и не вызывает ошибок, поэтому их можно использовать для понимания структуры загружаемых файлов. Подробнее о требованиях к файлам данных см. раздел \fullref{subsec:trainfile}.

Настройки программа хранит в файле \SettingsFile. При необходимости, пользователь может удалить его, чтобы сбросить все настройки или изменять вручную (как правило, такой необходимости нет). 
 

\section{Основные приципы работы}

\subsection{Этапы работы с программой}
Работа с программой \SysName строится на основе графического диалогового интерфейса. Типичный сценарий взаимодействия пользователя с программой разделяется на следующие этапы:
\begin{enumerate}
	\item Запуск программы
	\item Загрузка исходных данных
	\item Нормализация
	\item Отбор признаков
	\item Выполнение кластеризации
	\item Просмотр результатов и текстового отчёта
\end{enumerate}

После запуска программы требуется выбрать файл, содержащий данные для кластеризации. Затем производится настройка параметров нормализации (см. \ref{subsec:norm}), отбор признаков, участвующих в кластеризации и выбор основных свойств применяемого алгоритма. После выбора необходимых параметров пользователь запускает алгоритм кластеризации. Когда выполнение кластеризации заканчивается, пользователю становятся доступны результаты работы для просмотра, анализа и сохранения. 

\subsection{Требования к файлу исходных данных}
\label{subsec:req}
Источником данных для программы является текстовый файл. Следует уделить особое внимание формату файла. Ниже перечислены требования к загружаемому файлу:
\begin{enumerate}
	\item Файл содержит записи в формате таблицы объект-признак
	\item Строки таблицы соответствуют объектам
	\item Столбцы таблицы соответствуют признакам
	\item Разделитель строк --- символ перевода строки (CR+LF для Windows)
	\item Разделитель столбцов --- запятая
	\item Первая строка обязательно содержит перечень названий признаков
	\item Названия признаков состоят только из латинских букв
	\item Разделитель дробной и целой части --- точка
	\item Значения номинальных признаков записываются в одно слово из латинских букв. Цифры не допустимы.
\end{enumerate}
Пример файла с  валидной структурой приведён в разделе \fullref{subsec:trainfile}.

\subsection{Обучающий файл}
\label{subsec:trainfile}

Демонстрация возможностей программы будет проиллюстрирована на обучающем наборе данных. Файл \SampleFile с демонстрационной таблицей данных можно найти в каталоге бинарных файлов программы в директории \DataCatalog. Этот файл можно открыть с помощью текстового редактора, например стандартного блокнота Windows и при необходимости отредактировать или просто посмотреть содержимое. 

Демонстрационный файл содержит таблицу параметров сматрфонов, продаваемых в магазине Ozon (\url{http://www.ozon.ru/}) в IV квартале 2017 года. Каждому смартфону соответствует 7 параметров: name, price, diag, cpu, ram, stype, vendor; соответственно название смартфона, цена в рублях, диагональ экрана в дюймах, частота процессора в ГГц, объем ОЗУ в Мб, тип матрицы, вендор.

Пример файла исходных данных, удовлетворяющий требованиям, описанным в разделе \fullref{subsec:req}, приведён ниже. Показаны только несколько первых строк, полный файл содержит 581 модель смартфона. Названия сокращены в целях наглядности.

\begin{tcolorbox}[colframe=black!50!black,coltext=black!25!black,colback=white,title=\textbf{Пример файла входных данных \SampleFile}]
	\verb|          name,      price,   diag,    cpu,    ram,   stype,   vendor |\\
	\verb|Meizu U10 32GB,   11990.00,    5.0,   1.50,   3072,     IPS,    Meizu |\\
	\verb|ZTE Blade A510,    7011.00,    5.0,   1.00,   1024,     IPS,      ZTE |\\
	\verb|Huawei P9 Lite,   14190.00,    5.2,   2.00,   2048,     IPS,   Huawei |\\
	\verb|Meizu M5 32GB ,   12990.00,    5.2,   1.50,   3072,     IPS,    Meizu |\\
	\verb|ZTE Blade L370,    4990.00,    5.0,   1.30,   1024,     TFT,      ZTE |\\
	\verb|BQ Aquaris M5 ,   18072.00,    5.5,   1.50,   3072,     IPS,       BQ |\\	
\end{tcolorbox}

\subsection{Нормализация}
\label{subsec:norm}
Нормализация --- это преобразование данных для приведения всех признаков к сопоставимым шкалам и началам отсчёта. Общая формула нормализации может быть записана следующим образом:
\begin{equation}\label{eq:normalization}
	X'=\dfrac{X-c}{r},
\end{equation}
\noindent где $X$ --- исходные данные,\\
\phantom{где\space}$c$ --- параметр, определяющий преобразование начала отсчёта,\\
\phantom{где\space}$r$ --- параметр, определяющий преобразование масштаба шкалы.

В некоторых случаях нормализация влияет существенным образом на результат кластеризации. 
В программе \SysName реализованы наиболее популярные способы определения параметра преобразования начала отсчёта:
\begin{itemize}
	\item среднее
	\item минимум
	\item медиана
	\item центр Минковского
\end{itemize}

Для параметра, определяющего разброс, предусмотрены следующие способы вычисления:
\begin{itemize}
	\item полуразмах
	\item стандартное отклонение
	\item абсолютное отклонение
\end{itemize}
 
В системе \SysName процедура нормализации реализована независимо от кластеризации и параметры нормализации могут быть изменены практически на любой стадии работы с системой. Как правило, нормализация задаётся сразу после загрузки исходных данных. Этап нормализации можно пропустить, если данные уже нормированы или в этом нет необходимости по мнению пользователя.

Выполнению кластеризации предшествует выбор параметров и принципов, на которых основывается процесс поиска однородных множеств. После выбора всех необходимых параметров пользователь производит запуск алгоритма и получает результат в интерфейсе программы. 

\subsection{Просмотр результатов кластеризации}

Просмотр результатов кластеризации может состоять в отслеживании принадлежности каждого объекта определенным кластерам или получении графического представления найденной кластерной структуры. Также система INDACT позволяет представить результат в виде интегральной таблице или в виде текстового отчёта.


\subsection{Общие сведения о пользовательском интерфейсе}

\subsubsection{Главное окно}
\label{subsec:gui}
Как было отмечено ранее, программа обладает графическим пользовательским интерфейсом. В данном разделе приведены основные сведения относительно элементов управления, их положения и функциях.

\begin{figure}[H]
	\begin{tikzpicture}
		\node[anchor=south west,inner sep=0] (image) at (0,0) {\includegraphics[width=0.8\textwidth]{img2/main-window.png}};
		\regnoter[thin](-1.4,6)(1:0.1:6.4);
		\regnoter[thin](-1,7.4)(2:0.4:6.4);
		\regnoteb[thin](0.6,8)(3:1:6.4);
		\regnoteb[thin](1.5,8.5)(4:1.5:6.4);
		\regnotel[thin](4.2,8.5)(5:2.2:6.4);
		\regnotel[thin](8.5,8)(6:6.:6.8);
		\regnoter[thin](10.3,8)(7:11.8:6.8);
		\regnoteb[thin](11.9,8)(8:12.3:6.8);
		\regnotel[thin](13.5,8)(9:12.8:6.8);
		\regnoter[thin](-1.4,4.4)(10:0.5:6);
		\regnoter[thin](-1.4,3.0)(11:1:6);
		\regnoteb[thin](2.5,8.5)(12:1.5:6);
		\regnotel[thin](4,7.5)(13:2.2:6);
		\regnoteb[thin](5.2,7.8)(14:2.7:6);
		\regnoter[thin](-1.4,1.6)(15:1:5.4);
		\regnoter[thin](-1.4,0.2)(16:0.5:2);
		\regnoter[thin](-1.4,-1.2)(17:0.5:0.2);
		\regnoter[thin](1.4,-1.2)(18:3:0.2);
		\regnoter[thin](6.,-1.2)(19:8:0.2);
		\regnote[thin](3,3.0)(20)
		\regnote[thin](10,3.0)(21)
		%\draw (-2,0) to[grid with coordinates] (18,10);
		\end{tikzpicture}
	\caption{Основные элементы пользовательского интерфейса}
	\label{fig:gui}
\end{figure}

\begin{enumerate}
	\item Главное меню, элемент интерфейса, содержащий основные команды
	\item Меню File, содержит пункты:
		\begin{itemize}
			\item Load data file (\Ctrl + \texttt{O}) --- для загрузки файла данных
			\item Data operations --- для манипулирования данными
			\item Exit (\Ctrl + \texttt{Q}) --- для выхода из программы
		\end{itemize}
	\item Меню Run, содержит пункты для запуска соответствующих алгоритмов:
		\begin{itemize}
			\item \AWard (\Ctrl + \texttt{1})
			\item \AWardpb (\Ctrl + \texttt{2})
			\item \BiKMR (\Ctrl + \texttt{3})
			\item \dePDDP (\Ctrl + \texttt{4})
			\item \IKmeans (\Ctrl + \texttt{5})
		\end{itemize}
	\item Меню Plot, служит для вызова команд графического отображения, содержит пункты:
	\begin{itemize}
		\item By Markers --- для построения поля рассеяния (scatter plot) по отмеченным признакам
		\item SVD --- для построения SVD диаграммы 			
		\item Remove markers --- для удаления всех отметок признаков
	\end{itemize}
	

	\item Меню Report для формирования отчёта, содержит пункты:
		\begin{itemize}
			\item Text (\Ctrl + \texttt{R})--- для отображения текстового отчёта
			\item Text --- для отображения табличного отчёта
		\end{itemize}
	\item Заголовок окна, содержит путь к открытому файлу
	\item Кнопка ``Свернуть окно''
	\item Кнопка ``Развернуть окно''		
	\item Кнопка ``Закрыть окно''
	\item Иконка ``Загрузить данные'', дублирует соответствующий пункт меню
	\item Иконка ``Настройки'' вызывает диалог настроек нормализации
	\item Иконка включения/выключения нормализации
	\item Иконка нормализации нескольких признаков сразу
	\item Иконка очистки нормализованных признаков
	\item Названия признаков
	\item Номера/названия объектов
	\item Строка состояния, выводит информацию о выполняемом действии
	\item Текущие параметры нормализации
	\item Последний результат кластеризации
	\item Панель с исходными данными 
	\item Панель с нормализованными данными 
\end{enumerate}

\subsubsection{Контекстное меню}
В данном разделе описаны пункты контекстного меню. Контекстное меню объединяет набор действий над определенным объектом и вызывается щелчком правой кнопки мыши на этом объекте. На рисунке \ref{fig:context-menu} показано контекстное меню для признака \texttt{price}.

\begin{figure}[h!]
	\centering
	\includegraphics[width=0.35\textwidth]{img2/context-menu.png}
	\caption{Контекстное меню признака \texttt{price}}
	\label{fig:context-menu}
\end{figure}

Контекстное меню содержит следующие пункты:
\begin{enumerate}
	\item Set --- устанавливает особые свойства для признака (см. \ref{subsubsec:scatterplot}, \ref{subsubsec:asindex})
	\begin{enumerate}
		\item as X --- выставить метку \texttt{X} для признака (см. \ref{subsubsec:scatterplot})
		\item as Y --- выставить метку \texttt{Y} для признака
		\item as C --- выставить метку \texttt{C} для признака
		\item as Index (\texttt{TODO!}) --- установить признак как индекс (см. \ref{subsubsec:asindex})
	\end{enumerate}
	\item Histogram --- строит гистограмму по выбранному признаку (см. \ref{subsubsec:hist})
	\item Delete --- удаляет признак из вкладки, в которой вызвано контекстное меню (\mbox{см. \ref{subsubsec:deleteone}})
	\item Normalize --- нормализует выбранный признак, добавляя на панель нормализованных данных (см. \ref{subsubsec:onenorm})

	
\end{enumerate}

\newpage
\subsubsection{Диалог нормализации}

На рисунке \ref{fig:normdialog} показан диалог нормализации. Это окно требует от пользователя выставить значения для проведения нормализации (см. \ref{subsec:norm},\ref{sec:norm}). 
\begin{figure}[H]
	\centering
	\begin{tikzpicture}
	\node[anchor=south west,inner sep=0] (image) at (0,0) {\includegraphics[width=0.45\textwidth]{img2/norm-dialog.png}};
	\regnoter[thin](-1.4,2.8)(1:0.6:3.2);
	\regnotel[thin](8,6.5)(2:6.9:5.5);
	\regnotel[thin](8,4.2)(3:6:4.2);
	\regnotel[thin](8,2.8)(4:6.5:2.6);
	\regnotel[thin](8,1.4)(5:6.5:2);
	\regnotel[thin](8,0.0)(6:6.5:1.4);
	
	\regnotel[thin](8,-1.4)(7:6.4:0.8);	
	\regnotel[thin](6,-1.4)(8:4.5:0.8);
	
%	\draw (-2,0) to[grid with coordinates] (18,10);
	\end{tikzpicture}
	\caption{Диалог установки параметров нормализации}
	\label{fig:normdialog}
\end{figure}

\begin{enumerate}
	\item Переключатель вкл./выкл. нормализацию
	\item Кнопка закрытия окна
	\item Расчётная формула
	\item Выпадающий список для выбора центра нормализации
	\item Поле ввода степени Минковского (активно когда выбран центр Минковского)
	\item Выпадающий список для выбора диапазона нормализации
	\item Кнопка отмены
	\item Кнопка подтверждения ввода
\end{enumerate}

\subsubsection{Окно графического вывода}
\label{subsec:plot-view}
Окно графической информации служит для просмотра различного вида графиков и диаграмм. Такое окно может встретиться пользователю, например при построении гистограммы (раздел \ref{subsubsec:hist}), SVD диаграммы (\ref{subsubsec:svd}) или поля рассеяния (\ref{subsubsec:scatterplot}).

\begin{figure}[H]
	\centering
	\begin{tikzpicture}
	\node[anchor=south west,inner sep=0] (image) at (0,0) {	\includegraphics[width=0.6\textwidth]{img2/svd-plot.png}};
	\regnoter[thin](-1.4,7.6)(1:0.5:8);
	\regnoter[thin](-1,9.2)(2:1.2:8);
	\regnoteb[thin](1.4,9.2)(3:1.8:8);
	\regnoteb[thin](2.3,9.2)(4:2.7:8);
	\regnotel[thin](4,9.2)(5:3.3:8);
	\regnotel[thin](6.5,9.2)(6:5.6:8);
	\regnotel[thin](9.2,9.2)(7:8.5:8.6);
	\regnotel[thin](10.6,6.8)(8:9.5:8.6);
	\regnotel[thin](10.6,5.4)(9:9.1:8.6);
	\regnotel[thin](10.6,4.0)(10:7:5);
%	\draw (-2,0) to[grid with coordinates] (18,10);
	\end{tikzpicture}
	\caption{Окно графического вывода}
	\label{fig:plot-view}
\end{figure}


\begin{enumerate}
	\item Кнопка восстановления исходного автоматического положения и масштаба
	\item Кнопка возврата к предыдущему виду (после масштабирования или смещения)
	\item Кнопка возврата к следующему виду (после масштабирования или смещения)
	\item Кнопка смещения диаграммы
	\item Кнопка масштабирования выбранной области
	\item Кнопка сохранения текущего графика в файл
	\item Свернуть окно
	\item Развернуть окно
	\item Закрыть окно 
	\item Изображение
\end{enumerate}

\subsubsection{Окно генерации данных}
Окно генерации применяется при работе с синтетическими данными (см. раздел \ref{subsec:generation}). Это окно необходимо для ввода информации о значениях характеристик генерируемых данных.

\begin{figure}[H]
	\centering
	\begin{tikzpicture}
	\node[anchor=south west,inner sep=0] (image) at (0,0) {	\includegraphics[width=0.8\textwidth]{img2/gen-data-dialog.png}};
	\regnotelmulti[thin](4,2)(1:0.8:4.2:1.6:4.2:2.5:4.2);
	\regnotel[thin](14,7)(2:9.4:10.7);
	\regnotel[thin](14,6)(3:12.4:3.7);
	\regnotel[thin](14,5)(4:12.4:3.1);
	\regnotel[thin](14,4)(5:12.4:2.6);
	\regnotel[thin](14,3)(6:12.4:2.1);
	\regnotel[thin](14,2)(7:12.4:1.6);
	\regnotel[thin](14,1)(8:12.4:1.1);
	\regnotel[thin](14,0)(9:12.4:0.6);
	\regnoter[thin](7,2)(10:10.4:0.6);
	
%	\regnotel[thin](13.5,-1.0)(7:13.5:1.3);
%	\draw (0,0) to[grid with coordinates] (18,10);
	\end{tikzpicture}
	\caption{Окно генерации данных}
	\label{fig:gen-data-dialog}
\end{figure}


\begin{enumerate}
	\item Кнопки управления графиком (см. \ref{subsec:plot-view})
	\item Интерактивная графическая иллюстрация результата
	\item Поле ввода порождающего значения генератора (seed)
	\item Поле ввода минимального числа объектов в кластере
	\item Поле ввода числа кластеров
	\item Поле ввода числа объектов 
	\item Поле ввода числа признаков
	\item Поле ввода параметра смешения кластеров
	\item Кнопка отмены ввода
	\item Кнока подтверждения ввода
\end{enumerate}



\subsubsection{Окно запуска кластеризации}

Для запуска кластеризации от пользователя требуется выставить ряд параметров в соответствии со значениями которых после будет автоматически выбран подходящий алгоритм кластеризации. На рисунке \ref{fig:runclusteringwindow} показано окно для ввода этих параметров.

\begin{figure}[h!]
	\centering
	\includegraphics[width=0.9\textwidth]{img/runclusteringwindow}
	\caption{Окно запуска кластеризации}
	\label{fig:runclusteringwindow}
\end{figure}


\begin{enumerate}
	\item Группа опций, отвечающая за число кластеров
	\item Переключатель определения числа кластеров по критерию A-Ward (подробнее см. \cite{mirkin_formula_8})
	\item Переключатель поиска числа кластеров в процессе кластеризации по принципу минимума функции плотности \cite{kovaleva}
	\item Переключатель явного задание числа кластеров 
	\item Поле ввода для явного задания числа кластеров 
	\item Группа опций для установки степени Минковского (см. \cite{amorim})
	\item Переключатель, задающий степень Минковского равной 2
	\item Переключатель явного ввода степени Минковского с клавиатуры
	\item Поле ввода для степени Минковского
	\item Автоматически вычисляемая степень Минковского (в будующих версиях)
	\item Группа опций, определяющих веса признаков
	\item Переключатель отключающий веса признаков
	\item Переключатель включающий индивидуальные веса для каждого признака (см. \cite{amorim}, $A-Ward_{p\beta}$)
	\item Переключатель включающий одинаковые веса в пределах всех данных, но задаваемых для каждого признака индивидуально 
	\item Таблица для ввода весов признаков
	\item Кнопка подтверждения ввода
	\item Кнопка отмены
	\item Кнопка закрытия окна
\end{enumerate}



\subsubsection{Окно таблицы результатов}

Окно таблицы результатов служит для интегрального представления полученной кластерной структуры. Это окно может быть вызвано после выполнения шага кластеризации (см. \ref{subsec:report}). Значение таблиы соответствует среднему значению данного признака в данном кластере. Если это значение существенно больше общего среднего по признаку, то ячейка выделяется красным цветом, если существенно меньше --- синим.

\begin{figure}[h!]
	\centering
	\includegraphics[width=0.55\textwidth]{img/tableresultwindow}
	\caption{Окно таблицы результатов}
	\label{fig:tableresultwindow}
\end{figure}

\begin{enumerate}
	\item Название признаков
	\item Номера кластеров
	\item Строка средних значений по всем данным
	\item Столбец числа объектов в кластере
\end{enumerate}



\newpage
\section{Описание операций}


\subsection{Запуск программы}
Для работы с программой требуется запустить процесс OC, который отображает графический интерфейс и взаимодействует с пользователем. Действия этой операции приведены в таблице ниже.

\noindent\begin{tabularx}{\textwidth}{p{5.1cm}X}
	\toprule
	\textbf{Действие/Описание}& \textbf{Интерфейс}  \\
	
	\midrule
	\begin{titem}{Запустить бинарный файл программы}
		Дважды нажать левой кнопкой мыши (ЛКМ) на значке \texttt{INDACT.exe} 
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/runexe}} \\
	
	\midrule
	\begin{titem}{Дождаться запуска}
		Подождать, пока произойдёт инициализация среды выполнения Python. Открытие чёрного консольного окна, означает что установлена отладочная версия программы. Его не следует закрывать.   
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/gui}} \\
		
	\bottomrule
\end{tabularx}	

\newpage
\subsection{Загрузка исходных данных}
\label{subsec:dataload}

Загрузка данных необходима для того чтобы подать программе файл, который содержит таблицу данных. Формат файла должен удовлетворять набору требований, перечисленных в разделе ``\ref{subsec:req} Требования к файлу исходных данных''. 

\noindent\begin{tabularx}{\textwidth}{p{5.1cm}X}
	\toprule
	\textbf{Действие/Описание}& \textbf{Интерфейс}  \\
	
	\midrule
	\begin{titem}{Открыть диалог загрузки файла}
			Для открытия диалога загрузки файла необходимо последовательно нажать в главном меню пункты \menubox{\texttt{File}} $ \Rightarrow $ \menubox{\texttt{Open}}. 
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[trim={0 200 172 0 0},clip,width=0.65\textwidth]{img/fileopen}}	\\

	\midrule
	\begin{titem}{Выбрать текстовый файл с данными}
			В файловом диалоге необходимо выбрать загружаемый файл и нажать кнопку \menubox{\texttt{Open}}. Например, для загрузки демонстрационного примера следует выбрать файл \texttt{INDACT/example/} \texttt{smartphones.dat} 
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/filedialog.png}} \\	

	\midrule
	\begin{titem}{Проверить загрузку исходного файла}
		После выполнения предыдущего пункта будет произведена загрузка файла и отображение его содержимого в виде таблицы в интерфейсе программы. Пользователю следует убедиться, что загружен правильный файл, объекты и признаки отображаются верно. На рисунке справа показан загруженный файл \texttt{smartphones.dat} 
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/loadeddata.png}}	\\
	\bottomrule
\end{tabularx}	

\subsection{Нормализация}
\label{sec:norm}
\subsubsection{Установка параметров нормализации}

Назначение и параметры нормализации описаны в разделе ``\ref{subsec:norm} Нормализация''.

\noindent\begin{tabularx}{\textwidth}{p{5.1cm}X}
	\toprule
	\textbf{Действие/Описание}& \textbf{Интерфейс}  \\
	\midrule
	\begin{titem}{Открыть диалог нормализации}
		Диалог нормализации можно открыть выбрав в главном меню пункты \menubox{\texttt{Settings}} $ \Rightarrow $ \menubox{\texttt{Normalization}}.
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[trim={0 50 0 0},clip,width=0.65\textwidth]{img/opennormalizationdialog.png}}\\
	
	\midrule
	\begin{titem}{Включить нормализацию}
		Чтобы включить нормализацию требуется снять отметку с пункта ``\texttt{Normalization disabled}''. Выполнение этого действия снимет блокировку с полей параметров нормализации.
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/normalizationdialog.png}} \\

	\midrule
	\begin{titem}{Выставить параметры}
		Для нормализации данных необходимо задать центр и диапазон нормализации. Эти параметры выбираются из выпадающих списков. Для завершения настройки нормализации нажать кнопку \menubox{\texttt{OK}}. Пример установки параметров приведён в разделе \ref{subsubseq:example_norm1}. 
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/normalizationenableddialog.png}} \\
	\bottomrule
\end{tabularx}

\newpage
\subsubsection{Нормализация одного признака}
\label{subsubsec:onenorm}
После настройки параметров нормализации необходимо выбрать какие признаки требуется нормализовать. Только выбранные признаки будут участвовать в кластеризации. В программе предусмотрено три возможности для выбора признаков: выбор по одному, выбор всех сразу и удаление по одному. 

\noindent\begin{tabularx}{\textwidth}{p{5.1cm}X}
	\toprule
	\textbf{Действие/Описание}& \textbf{Интерфейс}  \\
	\midrule
	
	\begin{titem}{Выбрать признак для нормализации}
		Для выбора одного признака необходимо найти столбец признака во вкладке ``\texttt{Raw Data}'' и нажать на нем правой кнопкой мыши (ПКМ). В контекстном меню выбрать пункт \menubox{\texttt{Normalize}}. На примере показана операция нормализации признака \texttt{stype}.
	\end{titem}
	&  \raisebox{-\totalheight}
	{\includegraphics[trim={0 0 0 0},clip,width=0.65\textwidth]{img/normalizeonefeature.png}}
	\\
	
	\midrule
	\begin{titem}{(При необходимости) Подтвердить нормализацию категориального признака}
			Если был выбран категориальный признак (в примере \texttt{stype}), то программа запросит подтверждение разложения признака на бинарные. В случае согласия произойдёт добавление бинарных признаков, отвечающих за наличие каждого из значений категориального признака \textit{ и их нормализация}.
	\end{titem}
	 &  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/approvenominal.png}} \\

	\midrule
	\begin{titem}{Просмотр вида таблицы}
			После выбора признака, он будет перенесён из вкладки ``\texttt{Raw Data}'' во вкладку ``\texttt{Normalized Data}'' и к нему будут применены выбранные настройки нормализации. Дополнительно во вкладке  ``\texttt{Normalized Data}'' будет отображён столбец ``\texttt{Cluster\#}'', который будет оставаться заполненным символами ``\texttt{?}'' до тех пор, пока не будет выполнен шаг кластеризации (см. верхний рисунок, нормализация признака \texttt{price}). Сказанное выше справедливо и для номинального признака (например \texttt{stype}), но стоит иметь ввиду что соответствующие бинарные признаки будут названы \texttt{stype[значение признака]} (как показано на нижнем рисунке)
	\end{titem}
	 &  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/normalizedonefeature.png}} 

		 \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/normalizedonenominalfeature.png}}	\\
	\bottomrule
\end{tabularx}

\newpage
\subsubsection{Нормализация всех признаков сразу}

Если признаков много и нормализовать их по одному долго, то можно воспользоваться функцией нормализации всех признаков сразу.

\noindent\begin{tabularx}{\textwidth}{p{5.1cm}X}
	\toprule
	\textbf{Действие/Описание}& \textbf{Интерфейс}  \\
	\midrule
	\begin{titem}{Запустить нормализацию всех признаков }
			Для запуска нормализации всех признаков сразу, требуется в главном меню выбрать \menubox{\texttt{File}} $ \Rightarrow $ \menubox{\texttt{Data}}  $ \Rightarrow $  \menubox{\texttt{Normalize All}}.
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/normalizeall.png}} \\
	
	\midrule
	\begin{titem}{(При необходимости) Подтвердить нормализацию категориального признака}
		Если имеется хотя бы один категориальный признак, то программа запросит подтверждение разложения признака по количеству уникальных значений. В случае согласия программа представит номинальный признак с помощью бинарных.
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/approvenominal.png}}	\\

	\midrule
	\begin{titem}{Посмотреть результат}	
		После нормализации признаков результат будет отображен во вкладке ``\texttt{Normalized Data}''
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/normalizeallresult.png}}	\\
	\bottomrule
\end{tabularx}


\newpage
\subsection{Отбор признаков}
\subsubsection{Удаление одного признака}
\label{subsubsec:deleteone}

Как было отмечено выше, программа позволяет удалять отдельные признаки из как вкладки ``\texttt{Normalized Data}'' так и ``\texttt{Raw Data}''. Эта функция может быть применена для исключения из рассмотрения определённых признаков.

\noindent\begin{tabularx}{\textwidth}{p{5.1cm}X}
	\toprule
	\textbf{Действие/Описание}& \textbf{Интерфейс}  \\

	\midrule
	\begin{titem}{Выбрать признак \\ для удаления}	
	Для удаления одного признака необходимо найти столбец признака в нужной вкладке и нажать на нём ПКМ. В контекстном меню выбрать пункт \menubox{\texttt{Delete}}. 
	
	Рассмотрим удаление на примере признака \texttt{diag}. Контекстное меню, открытое после нажатия на заголовке \texttt{diag} показано на рисунке справа.
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/deleteone}}	\\

	\midrule
	\begin{titem}{Посмотреть результат}
		В результате выполнения операции выбранный признак будет удалён только из вкладки ``\texttt{Raw Data}'', но останется во второй вкладке.
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/deleteoneresult}} \\
	\bottomrule
\end{tabularx}

\newpage
\subsubsection{Удаление всех признаков сразу}

Если требуется полностью очистить вкладку ``\texttt{Normalized Data}'', то следует воспользоваться функцией, описанной ниже. Функция очистки вкладки нормализованных данных применяется для того чтобы сбросить выбор всех признаков.

\noindent\begin{tabularx}{\textwidth}{p{5.1cm}X}
	\toprule
	\textbf{Действие/Описание}& \textbf{Интерфейс}  \\

	\midrule
	\begin{titem}{Запустить удаление}
		Функция удаления всех признаков сразу вызывается из главного меню программы: \menubox{\texttt{File}} $ \Rightarrow $ \menubox{\texttt{Data}}  $ \Rightarrow $  \menubox{\texttt{Clear Normalized }}
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/clearnormalized}} \\

	\midrule
	\begin{titem}{Посмотреть результат}	
		В результате выполнения операции вкладка ``\texttt{Normalized Data}'' будет очищена полностью.
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/clearnormalizedresult}} \\

	\bottomrule	
\end{tabularx}



\subsubsection{Установка признака как индекс}
\label{subsubsec:asindex}

Допустим, исходный файл содержит признак, который не требуется использовать для анализа, но который был бы полезен как уникальный индекс, например, это может быть название модели телефона. В таком случае в программе предусмотрена функция задания признака в качестве индекса. 

\newpage

\noindent\begin{tabularx}{\textwidth}{p{5.1cm}X}
	\toprule
	\textbf{Действие/Описание}& \textbf{Интерфейс}  \\
	
	\midrule
	\begin{titem}{Загрузить файл}
		Загрузка файла описана в разделе ``\ref{subsec:dataload} Загрузка исходных данных''.
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/loadnamed}} \\
	
	\midrule
	\begin{titem}{Выбрать признак}
		Для выбора признака необходимо найти его столбец в одной из вкладок и нажать ПКМ на нём. В контекстном меню выбрать пункт \menubox{\texttt{Set}} $\Rightarrow$ \menubox{\texttt{As Index}} 
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/asindex}} \\
	
	\midrule
	\begin{titem}{Посмотреть результат}
		Результат выполнения предыдущего действия состоит в отображении признака в колонке индекса как показано на рисунке справа.
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/asindexcompleted}} \\
	\bottomrule
\end{tabularx}

\newpage
\subsection{Настройка способа отображения вкладок}

Программа имеет два способа отображения данных: с помощью вкладок и с помощью панелей (по умолчанию).Для переключения этих способов служит пункт меню \menubox{\texttt{View}}

\noindent\begin{tabularx}{\textwidth}{p{5.1cm}X}
	\toprule
	\textbf{Действие/Описание}& \textbf{Интерфейс}  \\
	
	\midrule
	\begin{titem}{Переключить способ отображения}
		Для переключения способа отображения следует выбрать из главного меню программы: \menubox{\texttt{View}} $ \Rightarrow $ \menubox{\texttt{Layout}}  $ \Rightarrow $  \menubox{\texttt{Tab Layout}} или \menubox{\texttt{Panel Layout}}
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/view1}} \\

	\midrule
	\begin{titem}{Посмотреть результат}
	В результате выполнения операции панели ``\texttt{Raw Data}'' и ``\texttt{Normalized Data}'' будут отображены одна за другой.
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/tabview}} \\
	
	\bottomrule
\end{tabularx}

\newpage
\subsection{Визуализация}
\subsubsection{Построение гистограммы по признаку }
\label{subsubsec:hist}

В качестве первичного инструмента анализа программа предлагает возможность построения гистограммы по выбранному признаку.

\noindent\begin{tabularx}{\textwidth}{p{5.1cm}X}
	\toprule
	\textbf{Действие/Описание}& \textbf{Интерфейс}  \\

	\midrule
	\begin{titem}{Выбрать признак}
		Для выбора признака необходимо найти его столбец в одной из вкладок и нажать ПКМ на нём. В контекстном меню выбрать пункт \menubox{\texttt{Histogram}}. На примере показано построение гистограммы по признаку \texttt{price}.
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/histmenu}} \\
	
	\midrule
	\begin{titem}{Посмотреть результат}
		После выбора признака будет построена гистограмма в отдельном окне. 
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/histexample}} \\
	\bottomrule
\end{tabularx}

\newpage
\subsubsection{Построение поля рассеяния (scatter plot)}
\label{subsubsec:scatterplot}

Для первичного анализа структуры данных или результатов кластеризации в программе предусмотрена функция построения поля рассеяния по меткам на выбранных признаках. Метка --- вспомогательный символ, присваиваемый пользователем для  определённого признака.  Предусмотрено 3 вида меток: ``\texttt{X}'', ``\texttt{Y}'', ``\texttt{C}''. Первый вид означает что отмеченный признак будет соответствовать координатам объекта по оси абсцисс, второй --- по оси ординат, а третий, что цвет (\textit{Color}) точки будет выбираться в соответствии со значением отмеченного признака

\noindent\begin{tabularx}{\textwidth}{p{5.1cm}X}
	\toprule
	\textbf{Действие/Описание}& \textbf{Интерфейс}  \\
	
	\midrule
	\begin{titem}{Выбрать признак по оси X}
		Для построения поля рассеяния требуется задать признаки по осям абсцисс и ординат. Чтобы отметить признак, соответствующий оси абсцисс, требуется нажать на его названии ПКМ и в контекстном меню выбрать
		\menubox{\texttt{Set}} $\Rightarrow$ \menubox{\texttt{as X}} 
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/setasx}} \\
	
	\midrule
	\begin{titem}{Посмотреть результат}
			После установки маркера ``\texttt{X}'' к имени соответствующего признак добавиться ``\texttt{(X)}''
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/setasxresult}} \\	
	
	\midrule
	\begin{titem}{Выбрать признак по оси Y}
	\end{titem}
	& 	\parbox[t]{12cm}{ \vphantom{нечто} Аналогично пунктам 1,2.} \\
	
	\midrule
	\begin{titem}{Выбрать признак отвечающий за цвет точек}
		Для того чтобы задать какой признак будет определять цвет точек на диаграмме необходимо выставить маркер \texttt{C}. Для этого выбрать признак, нажать ПКМ и в контекстном меню выбрать \menubox{\texttt{Set}} $\Rightarrow$ \menubox{\texttt{as С}} 
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/setcmarker}} \\
	
	\midrule
	\begin{titem}{Построить sctter plot}
		В главном меню выбрать \menubox{\texttt{Plot}} $\Rightarrow$ \menubox{\texttt{Plot Data by Markers}} 
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/plotbymarkers}}\\
	
	\midrule
	\begin{titem}{Посмотреть результат}
			В новом окне откроется построенная диаграмма
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth, height=0.3\textheight]{img/scatterplot}} \\
	
	\midrule
	\begin{titem}{Удалить метки (опционально)}
		В главном меню выбрать \menubox{\texttt{Plot}} $\Rightarrow$ \menubox{\texttt{Delete All Markers}}. При этом отметки ``\texttt{(X)}'', ``\texttt{(Y)}'' и ``\texttt{(C)}'' будут удалены.
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/deleteallmarkers}} \\
	
	\bottomrule
\end{tabularx}



\subsubsection{Построение SVD диаграммы}
\label{subsubsec:svd}
Для интегральной оценки структуры данных предусмотрена функция построения SVD диаграммы. Имеется возможность построения SVD диаграммы по нормализованным и не нормализованным данным.

\noindent\begin{tabularx}{\textwidth}{p{5.1cm}X}
	\toprule
	\textbf{Действие/Описание}& \textbf{Интерфейс}  \\
	
	\midrule
	\begin{titem}{Построить SVD диаграмму}
		Для построения SVD диаграммы в главном меню выбрать \menubox{\texttt{Plot}} $\Rightarrow$ \menubox{\texttt{SVD}} $\Rightarrow$ \menubox{\texttt{Normalized}} или \menubox{\texttt{Raw}} для построения диаграммы по нормализованным и не нормализованным данным соответственно.
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/svdplot}} \\
		
	\midrule
	\begin{titem}{Посмотреть результат}
		Построенная диаграмма откроется в новом окне.
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/svd}} \\
	
	\bottomrule
\end{tabularx}

\subsection{Генерация синтетических данных}
\label{subsec:generation}
Для генерирования искусственных данных необходимо вызвать диалог настройки параметры, указать все необходимые величины и сохранить сгенерированные данные в файл.

\noindent\begin{tabularx}{\textwidth}{p{5.1cm}X}
	\toprule
	\textbf{Действие/Описание}& \textbf{Интерфейс}  \\
	
	\midrule
	\begin{titem}{Открыть диалог генерации данных}
		Чтобы открыть диалог загрузки данных необходимо в главном меню программы выбрать \menubox{\texttt{File}} $\Rightarrow$ \menubox{\texttt{Data}} $\Rightarrow$ \menubox{\texttt{Generate}} 
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[trim={0 200 0 0},clip,width=0.65\textwidth]{img/generatemenu}} \\
	
	\midrule
	\begin{titem}{Указать параметры данных}
		В открывшемся диалоге необходимо указать параметры данных, по которым будет производиться генерация. Подробнее о параметрах генерации см. \cite{kovaleva}. В верхней части диалога отображается статическая информирующая диаграмма. Когда все параметры будут введены, нажать кнопку \menubox{\texttt{OK}} и в стандартном диалоге сохранения указать файл, в который требуется записать результат. 	
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/generation.png}} \\
	
	\midrule
	\begin{titem}{Сохранить данные в файл}
	\end{titem}
	 & 	\parbox[t]{12cm}{ \vphantom{нечто} Сохранить данные в файл в стандартном файловом\\ диалоге.} \\

	\bottomrule
\end{tabularx}

\newpage
\subsection{Запуск кластеризации}

Для определения принадлежности объектов кластерам требуется установить параметры кластеризации и запустить алгоритм.

\noindent\begin{tabularx}{\textwidth}{p{5.1cm}X}
	\toprule
	\textbf{Действие/Описание}& \textbf{Интерфейс}  \\
	
	\midrule
	\begin{titem}{Открыть диалог выбора параметров}
		Пред запуском кластеризации потребуется задать общие параметры процедуры, по которым программа выберет конкретный алгоритм. Для этого необходимо из главного меню выбрать: \menubox{\texttt{Run}} $\Rightarrow$ \menubox{\texttt{Clustering}}. Подробнее про параметры см. \cite{amorim,kovaleva} и раздел \ref{sec:algs} После установки выбранных параметров для подтверждения нажать кнопку \menubox{\texttt{OK}}
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/runclusteringdialog.png}} \\
	
	\midrule
	\begin{titem}{Дождаться результатов кластеризации}	
		Сразу после нажатия кнопки \menubox{\texttt{OK}} начнется работа алгоритма кластеризации. Когда алгоритм закончит работу, появится окно, изображённое справа. Если в окне нажать кнопку \menubox{\texttt{Show Details}} то появится дополнительная информация о выбранном алгоритме и времени работы. Нажать кнопку  \menubox{\texttt{OK}}.
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/resultinfo.png}} \\	
	
	\midrule
	\begin{titem}{Проверить заполнение столбца \texttt{Cluster\#}}
			В процессе кластеризации каждому объекту ставиться в соответствие номер кластера, которому он принадлежит. Для заданного объекта этот номер можно посмотреть в столбце ``\texttt{Cluster\#}''
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/clustercolumn}} \\	
	\bottomrule
\end{tabularx}

\subsection{Генерация отчёта}
\label{subsec:report}
Результаты кластеризации удобно анализировать по сгенерированному отчёту.

\noindent\begin{tabularx}{\textwidth}{p{5.1cm}X}
	\toprule
	\textbf{Действие/Описание}& \textbf{Интерфейс}  \\
	
	\midrule
	\begin{titem}{Сгенерировать отчёт}
		Для генерации отчёта в главном меню выбрать \menubox{\texttt{Report}} $\Rightarrow$ \menubox{\texttt{Show}}.
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/showreport}} \\
	
	\midrule
	\begin{titem}{Посмотреть окно таблицы результатов}
		Отчёт состоит из двух окон. Первое --- окно с таблицей результатов. В этом окне приведена сводная таблица в которой строки соответствуют кластерам, а столбцы --- признакам. В ячейках указаны средние значения признака по кластеру. Красным цветом выделены ячейки, в которых относительная разность значения и средней величины признака по кластеру больше 30\%, соответственно синим --- меньше 30\%. Маржинальная строка содержит средние значения признаков по всем кластерам, а столбец --- число объектов в кластере.
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/reporttable}} \\
	
	\midrule
	\begin{titem}{Посмотреть окно текстового отчёта}
		Текстовый отчёт содержит все сведения относительно выбранного алгоритма, метода нормализации, и параметров каждого из кластеров.
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/reporttext}} \\
	
	\bottomrule
\end{tabularx}

\newpage
\subsection{Выход из программы}

\noindent\begin{tabularx}{\textwidth}{p{5.1cm}X}
	\toprule
	\textbf{Действие/Описание}& \textbf{Интерфейс}  \\
	
	\midrule
	\begin{titem}{Выйти из программы}
			Для выхода из программы в главном меню выбрать \menubox{\texttt{File}} $\Rightarrow$ \menubox{\texttt{Exit}}.
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/exit}} \\
	
	\bottomrule
\end{tabularx}

\section{Алгоритмы кластеризации (краткое описание)}
\label{sec:algs}
\subsection{Алгоритм $ A-Ward $}
\label{subsec:a-ward}
Алгоритм A-Ward является усовершенствованием  широко известного алгоритма иерархической агломеративной кластеризации Уорда (Ward)\cite{ward}. На первом шаге все кластеры состоят из единственного объекта. 

Остановка алгоритма происходит при достижении числа кластеров, заданного пользователем, или объединении всех объектов в едином универсальном кластере. Степень близости между двумя кластерами вычисляется как произведение квадрата евклидовского расстояния между центрами кластеров и произведения численностей этих кластеров, делённого на их суммарную численность. 

Недостаток алгоритма Уорда --- медленность вычислений, связанная с необходимостью отыскания минимума расстояний, которых очень много на начальных этапах агломерации. В алгоритме А-Уорд эти шаги пропускаются, поскольку шаги агломерации применяются к некоторому предварительному разбиению объектов на достаточно малое число кластеров. Это-то предварительное разбиение используется как начальное для работы метода Уорда. Классы предварительного разбиения --- это кластеры, полученные методом аномальной кластеризации.

Метод аномальной кластеризации находит и удаляет аномальные кластеры по одному до тех пор, пока не останется объектов для кластеризации. В основе этого метода лежит критерий квадратичной ошибки метода к-средних. Аномальным называется такой кластер, который наиболее удалён от начала координат, куда предварительно переносится центр данных. Его построение начинается с самого удалённого объекта, а затем в него добавляются все объекты, которые ближе к центру кластера, чем к точке начала отсчёта. Центр аномального кластера обновляется на каждом шаге, в то время как центр данных остаётся неизменным.


\subsection{Алгоритм $ A-Ward_{p\beta} $}
Алгоритм A-Ward$_{p\beta}$ --- это дополнительная модификация для приложений, в которых требуется анализировать зашумленные данные, включающие нерелевантные признаки. В этом случае и Ward, и A-Ward плохо работают. Снизить влияние нерелевантных признаков позволяет введение весовых коэффициентов. В процессе работы алгоритма A-Ward$_{p\beta}$ для каждого признака вычисляется вес, обратно пропорциональный его разбросу  внутри кластера. При этом используется не обязательно евклидово расстояние, а метрика Минковского произвольной степени. Параметры $ p $ и  $ \beta $ являются степенями Минковского и 
весовых коэффициентов признаков соответственно.

Как и в случае с A-Ward, алгоритм A-Ward$ _p\beta $ использует аномальную кластеризацию для предварительной ``разведки'' структуры данных и снижения времени работы, однако в алгоритме A-Ward$_p\beta$ аномальная кластеризация обобщена с учётом дополнительных параметров.

\subsection{Алгоритм BiKM-R} 
Алгоритм BiKM-R (bisecting k-means randomized / Раздвоение по методу k-средних) относится к классу дивизивных алгоритмов иерархического кластер-анализа. В отличие от агломеративных алгоритмов, где вычисления организованы ``снизу-вверх'' путём объединения, здесь вычисления организованы ``сверху-вниз'' путём разделения кластеров, начиная с универсального кластера, состоящего из всех объектов. На каждом шаге определённый кластер S разбивается на два по критерию  суммы квадратов ошибок. Для инициализации алгоритма требуется указать начальные центры $c_1$ и $c_2$. Затем осуществляются двухшаговые итерации по методу к-средних при $ k=2 $. На первом шаге обновляются кластеры, путём разделения объектов на тех, что ближе к $c_1$ ( кластер $ S_1 $ ) и тех, что ближе к $c_2$ (кластер $ S_2$). На втором шаге вычисляются новые центры $ S_1 $ и $ S_2 $. Процесс заканчивается, как только новые центры совпадают со старыми. Как и в случае с агломеративным алгоритмом, выбор $c_1$ и $c_2$ может быть организован с использованием метода аномальных кластеров. Для инициализации алгоритма раздвоения используются центры двух наибольших аномальных кластеров.

Для остановки алгоритма BiKM-R используется критерий, основанный на проецировании точек 
кластеров на случайные направления. Пусть на некотором этапе работы алгоритма имеется K кластеров. Генерируются s случайных векторов $p_i$, $i=1,\ldots,s$. Для генерации используется нормальное 
сферическое распределение со средним в начале координат и $\sigma^2=1/V$, где $V$ – количество признаков. 
Затем каждый элемент $x$ каждого кластера $S_k$ ($k=1,\ldots, K$) проецируется на направления $p_i$, 
координаты проекции определяются как скалярное произведение: $x_i=<x,p_i>$. Для каждого направления 
вычисляется функция плотности $f_k^i$ по методу ядерной оценки (окно Парзена). Если для некоторого кластера $S_k$ отношение $\epsilon_k$ числа направлений, для которых функции плотности  $f_k^i$ имеют по крайне мере один минимум, к общему числу направлений меньше заданного пользователем порога $\epsilon$ , то кластер $S_k$ не разбивается. Для разделения выбирается в первую очередь кластер с наибольшим отношением $\epsilon_k / \epsilon$. Выбранный кластер разбивается но наиболее глубокому минимуму функции плотности.  

\subsection{Алгоритм dePDDP} 
Алгоритм dePDDP (Principal Direction Divisive Partitioning) относится к иерархическим дивизивным. Первоначально критерий разделения кластера на две части был относительно простым: предлагалось разделить кластер по его главной компоненте на положительную и отрицательную части. В алгоритме dePDDP эта идея усовершенствована при помощи правила, учитывающего распределение данных. Разбиение производится по наиболее глубокому минимуму функции плотности данных, спроецированных на первую главную компоненту данного кластера. Это правило используется для решения двух сопряжённых проблем: выбора кластера для разбиения и остановки алгоритма. Для разбиения выбирается кластер с наименьшим минимумом среди всех терминальных кластеров. Если кластер имеет монотонную или выпуклую функцию плотности, то такой кластер не может быть разделен по критерию данного алгоритма. Экспериментально было показано, что алгоритм, работающий на описанных принципах эффективно решает задачу кластеризации как на реальных данных, так и на 
синтетических. Оценка функции плотности осуществляется по методу ядерной оценки (окно Парзена).


\section{Примеры работы с программой}
\subsection{Нормализация}
\subsubsection{Нормализация с центрированием по среднему и масштабированием по полуразмаху}
\label{subsubseq:example_norm1}

В данном разделе рассматривается пример нормализации признаков обучающего файла \texttt{smartphones.dat} с центрированием по среднему и масштабированием по полуразмаху. 

\noindent\begin{tabularx}{\textwidth}{p{5.1cm}X}
	\toprule
	\textbf{Действие/Описание}& \textbf{Интерфейс}  \\
	\toprule
	
	\begin{titem}{Запустить бинарный файл программы}
		Дважды нажать левой кнопкой мыши (ЛКМ) на значке \texttt{INDACT.exe} 
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/runexe}} \\
	
	\midrule
	\begin{titem}{Открыть диалог загрузки файла}
			Последовательно нажать в главном меню пункты \menubox{\texttt{File}} $ \Rightarrow $ \menubox{\texttt{Open}}.
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[trim={0 200 172 0 0},clip,width=0.65\textwidth]{img/fileopen}} \\
	
	\midrule
	\begin{titem}{Выбрать текстовый файл с данными}
		В файловом диалоге выбрать загружаемый файл \texttt{INDACT/example/} \texttt{smartphones.dat} и нажать кнопку \menubox{\texttt{Open}}.  
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/filedialog.png}} \\	
	
	\midrule
	\begin{titem}{Убедиться что файл загружен}
		Посмотреть, что вкладка ``\texttt{Raw Data}'' заполнилась данными из файла.
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/loadeddata.png}} \\
	
	\midrule
	\begin{titem}{Установить признак \texttt{name} как индекс}		
		Отрыть контекстное меню ПКМ и выбрать \menubox{\texttt{Set}} $\Rightarrow$ \menubox{\texttt{As Index}}  
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/asindex}} \\
	
	\midrule
	\begin{titem}{Убедиться что признак выставился}
		Результат выполнения предыдущей операции показан на рисунке справа. Теперь числовые индексы заменены названиями телефонов. 
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/asindexcompleted.png}} \\
	
	\midrule
	\begin{titem}{Удалить признак \texttt{vendor}}		
		Вызвать контекстное меню на признаке \texttt{vendor} при помощи ПКМ и выбрать пункт \menubox{\texttt{Delete}}.
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/deletevendor.png}} \\
	
	\midrule
	\begin{titem}{Убедиться что признак удалён}
		Результат удаления признака \texttt{vendor} показан на рисунке справа. Видно, что признак \texttt{vendor} больше не отображается во вкладке ``\texttt{Raw Data}'' 
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/deletevendorresult.png}} \\
	
	\midrule
	\begin{titem}{Открыть окно нормализации}
		Выбрать в главном меню пункты \menubox{\texttt{Settings}} $ \Rightarrow $ \menubox{\texttt{Normalization}}.
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/opennormalizationdialogexample}} \\
	
	\midrule
	\begin{titem}{Выставить параметры нормализации}
		Выставить параметры нормализации как показано на рисунке справа. Переключатель ``\texttt{Normalization disabled}'' должен быть снят, значение \texttt{Center} выбрано \texttt{Mean}, а значение \texttt{Range} --- \texttt{Semi range}. Подтвердить ввод, нажав \menubox{\texttt{OK}}. 
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/normmeansemirange}} \\

	\midrule	
	\begin{titem}{Запустить нормализацию всех признаков }
		Для запуска нормализации всех признаков сразу, требуется в главном меню выбрать \menubox{\texttt{File}} $ \Rightarrow $ \menubox{\texttt{Data}}  $ \Rightarrow $  \menubox{\texttt{Normalize All}}.
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/normalizeallexample}} \\	
	
	\midrule
	\begin{titem}{Подтвердить нормализацию категориального признака}
		Так как данные включают в себя категориальный признак \texttt{stype}, то программа запросит подтверждение разложения признака по количеству уникальных значений. Нажать кнопку \menubox{\texttt{OK}}.
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/approvenominalexample}} \\
	
	\midrule
	\begin{titem}{Посмотреть результат}
		После нормализации признаков результат будет отображен во вкладке ``\texttt{Normalized Data}''
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/normalizeallresultexample}} \\
	
	\bottomrule
\end{tabularx}

\subsubsection{Нормализация с центрированием по Минковскому и масштабированием по стандартному отклонению}
\label{subsubseq:example_norm2}
Теперь рассмотрим пример нормализации данных из демонстрационного примера с центрированием Минковского.

\noindent\begin{tabularx}{\textwidth}{p{5.1cm}X}
	\toprule
	\textbf{Действие/Описание}& \textbf{Интерфейс}  \\
	\toprule
	
	\begin{titem}{Запустить программу и загрузить файл}
	\end{titem}
	& 	\parbox[t]{12cm}{ \vphantom{нечто} Выполнить пункты 1--9 из предыдущего примера (\ref{subsubseq:example_norm1}).} \\
	
	\midrule
	\begin{titem}{Выставить параметры нормализации}
		Выставить параметры нормализации как показано на рисунке справа. Переключатель ``\texttt{Normalization disabled}'' должен быть снят, значение Center выбрано \texttt{Minkowski Center}, величина \texttt{Minkowski Power} выставлена равной \texttt{1.5}, а параметр \texttt{Range} выбран \texttt{Standard deviation}.
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/normminkowski}} \\
	
	\midrule
	\begin{titem}{Нормализовать все признаки}
	\end{titem}
	& 	\parbox[t]{12cm}{ \vphantom{нечто} Выполнить пункты 11--12 из предыдущего примера (\ref{subsubseq:example_norm1}).} \\
	
	\midrule
	\begin{titem}{Посмотреть результат}
		После нормализации признаков результат будет отображён во вкладке ``\texttt{Normalized Data}''
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/normalizeallresultexamplemink}} \\
	
	\bottomrule	
\end{tabularx}


\subsection{Кластеризация}
\subsubsection{Кластеризация с автоматическим выбором числа кластеров}
\label{subsubsec:clustering_example1}
Рассмотрим пример кластеризации с использованием метода, который предусматривает автоматическое вычисление числа кластеров в процессе работы. Используем для этого процедуру нормализации проиллюстрированную ранее. Выберем типичные значения параметров нормализации: центрирование по среднему, масштабирование полуразмахом (см. \ref{subsubseq:example_norm1}). 


\noindent\begin{tabularx}{\textwidth}{p{5.1cm}X}
	\toprule
	\textbf{Действие/Описание}& \textbf{Интерфейс}  \\
	\toprule
	
	\begin{titem}{Запустить программу, загрузить файл и нормализовать признаки}
		Выполнить все пункты из первого примера(\ref{subsubseq:example_norm1}). Для кластеризации требуются нормализованные признаки.
	\end{titem}
	& \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/normalizeallresultexample}} \\
	
	\midrule
	\begin{titem}{Открыть окно кластеризации}
		Пред запуском кластеризации потребуется задать общие параметры процедуры, по которым программа выберет конкретный алгоритм. Для этого необходимо из главного меню выбрать: \menubox{\texttt{Run}} $\Rightarrow$ \menubox{\texttt{Clustering}}. 
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/runclusteringexample1}} \\
	
	\midrule
	\begin{titem}{Установить параметры алгоритма кластеризации}
		Установить параметры кластеризации как показано на рисунке справа. В группе регулирующей число кластеров установить переключатель \texttt{Minimum of density} для выбора числа кластеров по минимуму функции плотности. Степень Минковского установить равной 2, отметив соответствующий переключатель. Веса признаков в данном примере не используются. Нажать \menubox{\texttt{OK}}. 
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/clusteringdialogexample1.png}} \\
	
	\midrule
	\begin{titem}{Дождаться завершения кластеризации}
		Когда алгоритм закончит работу, появится окно, изображённое справа. Если в окне нажать кнопку \menubox{\texttt{Show Details}} то появится дополнительная информация о выбранном алгоритме и времени работы. Нажать кнопку  \menubox{\texttt{OK}}.
	\end{titem}
	 &  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/resultinfo.png}} \\		
	
	\midrule
	\begin{titem}{Посмотреть кластерную принадлежность}
		После завершения кластеризации во вкладке ``\texttt{Normalized Data}'' будет заполнен столбец \texttt{Cluster\#} как показано на рисунке справа.	
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/clustercolumnexample1}} \\		
	
	
	\midrule
	\begin{titem}{Сгенерировать отчёт}
		Для генерации отчёта в главном меню выбрать \menubox{\texttt{Report}} $\Rightarrow$ \menubox{\texttt{Show}} (см. \ref{subsec:report}).	
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/generatereportclusteringexample1}} \\		
	
	\midrule
	\begin{titem}{Посмотреть отчёт}
		Вид отчёта показан на рисунке справа. Сверху показана таблица интегрального представления, а снизу --- текстовый отчёт.  
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/reporttableclusteringexample1}}
	
	\raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/textreportclusteringexample2}} \\	
	
	
	\bottomrule
\end{tabularx}

\newpage
\subsubsection{Кластеризация с явно заданным числом кластеров}

Если известно конкретное число кластеров входящих в состав данных, можно применить методы, подразумевающие явный ввод с клавиатуры. Например, число кластеров позволяет задать метод A-Ward (см. раздел \ref{subsec:a-ward}).

\noindent\begin{tabularx}{\textwidth}{p{5.1cm}X}
	\toprule
	\textbf{Действие/Описание}& \textbf{Интерфейс}  \\
	\toprule
	
	\begin{titem}{Запустить программу, загрузить файл и нормализовать признаки}
		Выполнить все пункты из второго примера (\ref{subsubseq:example_norm2}). Для кластеризации требуются нормализованные признаки. Для данного примера используется нормализация с центрированием Минковского.
	\end{titem}
	& \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/normalizeallresultexamplemink}} \\
	
	\midrule
	\begin{titem}{Открыть окно кластеризации}
		Пред запуском кластеризации потребуется задать общие параметры процедуры, по которым программа выберет конкретный алгоритм. Для этого необходимо из главного меню выбрать: \menubox{\texttt{Run}} $\Rightarrow$ \menubox{\texttt{Clustering}}. 
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/runclusteringexample1}} \\
	
	\midrule
	\begin{titem}{Установить параметры алгоритма кластеризации}
		Установить параметры кластеризации как показано на рисунке справа. В группе регулирующей число кластеров установить переключатель \texttt{Set explicitly} для ввода числа кластеров с клавиатуры. Ввести число кластеров 10. Степень Минковского установить равной 1.5, отметив переключатель \texttt{p=}. Для назначения кластер-специфичных весов выбрать переключатель \texttt{Cluster-specific weights} (см. \cite{amorim}). Нажать \menubox{\texttt{OK}}. 
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/clusteringdialogexample2}} \\
	
	\midrule
	\begin{titem}{Дождаться завершения кластеризации}
		Когда алгоритм закончит работу, появится окно, изображённое справа. Если в окне нажать кнопку \menubox{\texttt{Show Details}} то появится дополнительная информация о выбранном алгоритме и времени работы. Нажать кнопку  \menubox{\texttt{OK}}.
	\end{titem}
	& \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/clusteringfinishedexample2}} \\		
	
	\midrule
	\begin{titem}{Посмотреть кластерную принадлежность}
		После завершения кластеризации во вкладке ``\texttt{Normalized Data}'' будет заполнен столбец \texttt{Cluster\#} как показано на рисунке справа.	
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/clustercolumnexample2}} \\		
	
	\midrule
	\begin{titem}{Сгенерировать отчёт}
		Для генерации отчёта в главном меню выбрать \menubox{\texttt{Report}} $\Rightarrow$ \menubox{\texttt{Show}} (см. \ref{subsec:report}).	
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/generatereportclusteringexample2}} \\		
	
	\midrule
	\begin{titem}{Посмотреть отчёт}
		Вид отчёта показан на рисунке справа. Сверху показана таблица интегрального представления, а снизу --- текстовый отчёт. Как видно из интегрального отчёта, некоторые кластеры не представительны, поэтому в реальных условиях, возможно, следовало бы рассмотреть другие значения параметров. 
	\end{titem}
	&  \raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/reporttableclusteringexample2}}
	
	\raisebox{-\totalheight}{\includegraphics[width=0.65\textwidth]{img/textreportclusteringexample2}} \\	

\bottomrule
\end{tabularx}

% glossary
%\renewcommand{\glossaryname}{\centerline{\MakeUppercase{Словарь терминов (добавить примеры)}}}

%\clearpage
\setlist[description]{leftmargin=!, labelwidth=-0.5em} % Change for glossaries
\glsaddall

\addcontentsline{toc}{section}{Аббревиатуры}
\printglossary[type=\acronymtype,nonumberlist,style=acrostyle]

\newpage
\addcontentsline{toc}{section}{Словарь терминов}
\printglossary[nonumberlist]
\setlist[description]{style=standard} % reset settings back to default

\newpage
\nocite{amorim} \nocite{ward} \nocite{boley} \nocite{tasoulis} \nocite{kovaleva} \nocite{mirkin}
\addcontentsline{toc}{section}{Список литературы}
\bibliography{bibliography}

\end{document} 
